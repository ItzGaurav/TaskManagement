<app-header [isUserLoggedIn]="true"></app-header>
<div class="container">
    <div class="row">
        <form class="form-inline" [formGroup]="myForm" novalidate (ngSubmit)="save(myForm)">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="form-group col-xs-4">
                        <label>Project</label>
                        <input type="text" class="form-control">
                        <!--<small *ngIf="!myForm.controls.name.valid" class="text-danger">
                            Name is required (minimum 5 characters).
                        </small>-->
                    </div>

                    <div class="form-group col-xs-4">
                        <label>Task Name</label>
                        <input type="text" class="form-control">
                        <!--<small *ngIf="!myForm.controls.name.valid" class="text-danger">
                            Name is required (minimum 5 characters).
                        </small>-->
                    </div>

                    <div class="form-group col-xs-2">
                        <label>Start Date</label>
                        <input type="text" class="form-control">
                    </div>
                    <div class="form-group col-xs-2">
                        <label>End Date</label>
                        <input type="text" class="form-control">
                    </div>
                    <div class="form-group col-xs-12">
                        <label>Description</label>
                        <textarea class="form-control"></textarea>
                    </div>
                </div>
            </div>

            <div formArrayName="addresses">
                <div *ngFor="let address of myForm.controls.addresses.controls; let i=index" class="panel panel-default">
                    <div class="panel-heading">
                        <span>Task {{i + 1}}</span>
                        <span class="glyphicon glyphicon-remove pull-right" *ngIf="myForm.controls.addresses.controls.length > 1" (click)="removeAddress(i)"></span>
                    </div>
                    <div class="panel-body" [formGroupName]="i">
                        <taskForm [group]="myForm.controls.addresses.controls[i]"></taskForm>
                    </div>
                </div>
            </div>
            <div class="form-group col-xs-10">
                <label></label>
            </div>
            <div class="form-group col-xs-2">
                <button type="button" class="btn btn-success btn-number pull-right" (click)="addAddress()">
                    <span class="glyphicon glyphicon-plus"></span> Add one more task type
                </button>

            </div>


            <br />
            <br />
            <div class="form-group col-xs-12">
                <button type="submit" class="btn btn-primary pull-right btn-sm" [disabled]="!myForm.valid">
                    <span class="glyphicon glyphicon-send"></span> Submit
                </button>
            </div>
        </form>

    </div>

</div>
